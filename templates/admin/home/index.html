<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomePage</title>
    <script src=""></script>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<link rel="stylesheet" href="{{url_for('static',filename = './StyleHome/styleHome.css')}}">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>

</head>
<body>
<input type="checkbox" id="checkbox">
<label class="btn" id="button" for="checkbox"><i class="fa fa-bars"></i> <span>Menu</span></label>

<div class="sidebar ">
    <ul>
        <a href="#" id="home"><li><i class="fa fa-tachometer"></i>Home</li></a>
        <a href="#" name='cadastro'id="cadastro" onclick="cadastroCliente()"><li><i class="fa fa-tachometer"></i>Cadastros de clientes</li></a>
        <!--<a href="../cadastrovenda/index.html"><li><i class="fa fa-globe"></i></li>Cadastro Venda</a>-->
        <a href="#"  name ="vendasavulsas" id="vendasavulsas" onclick="vendasAvulsas()"><li><i class="fa fa-estoque"></i></li> Vendas Di√°rias</a>
        <a href="#", onclick="TabelaCadastro()"><li><i class="fa fa-wpforms"></i>Tabela de Cadastros</li></a>
        <a href="#" onclick="TabelaVendas()" id="tabelaVendas"><li><i class="fa fa-globe"></i></li>Tabela de Vendas</a>
        
    </ul>
</div>
<div class="" id="info" class="dark-mode"> 
<!-- Aqui vai ser onde vair aparecer os dados da requisicao... -->
</div>
<script>
function TabelaCadastro(){
    $(document).ready(function(){
        $.ajax({
            url:"http://127.0.0.1:5000/tabelaCadastro",
            method:"GET",
            async:false,
            success: function(resultado){
                $("#info").html(resultado)
                
                $(document).ready(function(){
                    function idButton(acao){
                        console.log("entrei pelo ajax")
                    $('#btnedit'+ acao).click(function(){
                        $( "#dialog-modal" ).dialog({
                            width:900,
                            height: 700,
                            modal: true,
                          });
                    $.ajax({
                        url:"http://127.0.0.1:5000/tabelaCadastro/"+ acao,
                        method:"GET",
                        async:false,
                        success:function(resultado){
                            $('#dialog-modal').html(resultado)
                            
                            }
                         })
                     })
                    }
                })
            }

        })
    })
}
function cadastroCliente(){
    $(document).ready(function(){
        $.ajax({
            url:"http://127.0.0.1:5000/CadastroCliente",
            method:"GET",
            async:false,
            success:function(resultado){
                $("#info").html(resultado)

                $(document).ready(function(){
                $('#enviar').click(function(e){
                    console.log("to no ajax CadastroCLiente")
                    var formDados = $("#form").serialize()
                    $.ajax({
                        url:"http://127.0.0.1:5000/CadastroCliente",
                        method:"POST",
                        data: formDados,
                        processData:false,
                        async:true,
                        cache:false,
                        dataType:'json',
                       
                        dataType:'html'
                    })
                    alert('Atualizado com sucesso!')
                    $("input").val("");
                    return false 
                })
                })
            }

        })
    })
}


/*$(document).ready(function(){
    $('#btnedit{{x[0]}}').click(function(){
        $( "#dialog-modal" ).dialog({
            width:850,
            height: 700,
            modal: true,
          });
    $.ajax({
        url:"http://127.0.0.1:5000/tabelaCadastro/",
        method:"GET",
        async:false,
        success:function(resultado){
            $('#dialog-modal').html(resultado)
            
            }
         })
     })
})*/
</script>